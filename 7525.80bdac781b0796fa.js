"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7525],{7525:(I,u,n)=>{n.r(u),n.d(u,{LoginPage:()=>v});var m=n(177),c=n(4341),o=n(7189),e=n(3953),d=n(4441);let h=(()=>{var i;class s{constructor(){}validateEmail(t){let r=!1;return t.match(/^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/)&&(r=!0),r}}return(i=s).\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"}),s})();var p=n(1339),f=n(6766);let v=(()=>{var i;class s{constructor(t,r,l,a){this.alertService=t,this.utilityService=r,this.authService=l,this.router=a,this.email=localStorage.getItem("user")||""}ngOnInit(){}login(){this.email?this.utilityService.validateEmail(this.email)?this.password?(localStorage.setItem("user",this.email),localStorage.setItem("password",this.password),this.authService.logIn(this.email,this.password).subscribe({next:t=>{localStorage.setItem("isLoggedIn",JSON.stringify(!0)),localStorage.setItem("profile",JSON.stringify(t)),localStorage.setItem("token","Bearer "+t.jwt),localStorage.setItem("refreshToken",t.refreshtoken);const r=localStorage.getItem("redirectPath")||"";this.router.navigate(r&&"/login"!=r?[r]:["/home"])},complete:()=>{},error:t=>{console.error(t)}})):this.alertService.error("Ingrese la contrase\xf1as"):this.alertService.error("Ingrese un correo v\xe1lido"):this.alertService.error("Ingrese el correo")}}return(i=s).\u0275fac=function(t){return new(t||i)(e.rXU(d.u),e.rXU(h),e.rXU(p.u),e.rXU(f.Ix))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-login"]],standalone:!0,features:[e.aNF],decls:16,vars:6,consts:[[3,"translucent"],[3,"fullscreen"],[2,"background-image","url('assets/images/login_fondo.jpg')","height","100%"],[2,"opacity","0.83","width","500px","margin","0 auto"],[2,"display","flex","justify-content","center","margin-top","10px","margin-bottom","8px"],["src","assets/images/keys-round.png",2,"height","90px","width","90px"],["type","email","label","Email","labelPlacement","floating",3,"ngModelChange","ngModel","clearInput"],["type","password","label","Password","labelPlacement","floating",3,"ngModelChange","ngModel","clearInput"],["expand","block","size","mediun",2,"margin-top","20px","margin-bottom","20px","margin-left","15px","margin-right","13px",3,"click"]],template:function(t,r){1&t&&(e.nrm(0,"ion-header",0),e.j41(1,"ion-content",1)(2,"div",2),e.nrm(3,"br")(4,"br")(5,"br"),e.j41(6,"ion-card",3)(7,"div",4),e.nrm(8,"ion-img",5),e.k0s(),e.j41(9,"ion-item-group")(10,"ion-item")(11,"ion-input",6),e.mxI("ngModelChange",function(a){return e.DH7(r.email,a)||(r.email=a),a}),e.k0s()(),e.j41(12,"ion-item")(13,"ion-input",7),e.mxI("ngModelChange",function(a){return e.DH7(r.password,a)||(r.password=a),a}),e.k0s()()(),e.j41(14,"ion-button",8),e.bIt("click",function(){return r.login()}),e.EFF(15,"Iniciar sesi\xf3n"),e.k0s()()()()),2&t&&(e.Y8G("translucent",!0),e.R7$(),e.Y8G("fullscreen",!0),e.R7$(10),e.R50("ngModel",r.email),e.Y8G("clearInput",!0),e.R7$(2),e.R50("ngModel",r.password),e.Y8G("clearInput",!0))},dependencies:[o.W9,o.eU,m.MD,c.YN,c.BC,c.vS,o.$w,o.uz,o.jh,o.b_,o.KW,o.Jm]}),s})()}}]);