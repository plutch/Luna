"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4033],{4033:(k,d,a)=>{a.r(d),a.d(d,{ReceivablesPage:()=>p});var u=a(177),g=a(4341),s=a(7189);var e=a(3953),m=a(1626);let v=(()=>{var t;class c{constructor(n){this.httpClient=n}getTotalResumen(n){return this.httpClient.get(`b2c-cxc/formats/resumen-total?moneda=${n}`)}getResumen(n,o=1,l=""){return this.httpClient.get(`b2c-cxc/formats/resumen-por-cliente?moneda=${n}&Pageno=${o}&buscar=${l}`)}getGeneralResumen(n,o){return this.httpClient.get(`b2c-cxc/formats/resumen-por-cliente?moneda=${n}&cliente=${o}`)}getDetailsResumen(n,o=1,l="",r,C){return this.httpClient.get(`b2c-cxc/formats/detalle-por-cliente?cliente=${r}&moneda=${n}&Pageno=${o}&buscar=${l}&vista=${C}`)}}return(t=c).\u0275fac=function(n){return new(n||t)(e.KVO(m.Qq))},t.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"}),c})();var F=a(6037);function R(t,c){if(1&t&&(e.j41(0,"ion-select-option",10),e.EFF(1),e.k0s()),2&t){const i=c.$implicit;e.FS9("value",i.codigo),e.R7$(),e.JRh(i.nombre)}}function b(t,c){if(1&t&&(e.j41(0,"ion-select-option",10),e.EFF(1),e.k0s()),2&t){const i=c.$implicit;e.FS9("value",i.codigo),e.R7$(),e.JRh(i.nombre)}}function f(t,c){if(1&t&&(e.j41(0,"ion-item")(1,"ion-grid")(2,"ion-row")(3,"ion-col"),e.EFF(4," Documento "),e.k0s(),e.j41(5,"ion-col")(6,"div",11),e.EFF(7),e.k0s()()(),e.j41(8,"ion-row")(9,"ion-col"),e.EFF(10," Fecha "),e.k0s(),e.j41(11,"ion-col")(12,"div",11),e.EFF(13),e.nI1(14,"date"),e.k0s()()(),e.j41(15,"ion-row")(16,"ion-col"),e.EFF(17," Vence "),e.k0s(),e.j41(18,"ion-col")(19,"div",11),e.EFF(20),e.nI1(21,"date"),e.k0s()()(),e.j41(22,"ion-row")(23,"ion-col"),e.EFF(24," D\xedas "),e.k0s(),e.j41(25,"ion-col")(26,"div",11),e.EFF(27),e.k0s()()(),e.j41(28,"ion-row")(29,"ion-col"),e.EFF(30," Vencido "),e.k0s(),e.j41(31,"ion-col")(32,"div",11),e.EFF(33),e.k0s()()(),e.j41(34,"ion-row")(35,"ion-col"),e.EFF(36," Cargos "),e.k0s(),e.j41(37,"ion-col")(38,"div",11),e.EFF(39),e.k0s()()(),e.j41(40,"ion-row")(41,"ion-col"),e.EFF(42," Descargos "),e.k0s(),e.j41(43,"ion-col")(44,"div",11),e.EFF(45),e.k0s()()(),e.j41(46,"ion-row")(47,"ion-col"),e.EFF(48," Blce.doc. "),e.k0s(),e.j41(49,"ion-col")(50,"div",11),e.EFF(51),e.k0s()()(),e.j41(52,"ion-row")(53,"ion-col"),e.EFF(54," Blce.historico "),e.k0s(),e.j41(55,"ion-col")(56,"div",11),e.EFF(57),e.k0s()()(),e.j41(58,"ion-row")(59,"ion-col"),e.EFF(60," Usuario "),e.k0s(),e.j41(61,"ion-col")(62,"div",11),e.EFF(63),e.k0s()()(),e.j41(64,"ion-row")(65,"ion-col"),e.EFF(66," NCF "),e.k0s(),e.j41(67,"ion-col")(68,"div",11),e.EFF(69),e.k0s()()()()()),2&t){const i=c.$implicit;e.R7$(7),e.JRh(i.transcc_id),e.R7$(6),e.JRh(e.i5U(14,11,i.fecha_hora,"dd-MM-y")),e.R7$(7),e.JRh(e.i5U(21,14,i.f_venc,"dd-MM-y")),e.R7$(7),e.JRh(i.dias),e.R7$(6),e.JRh(i.dias_vencido),e.R7$(6),e.JRh(i.cargos),e.R7$(6),e.JRh(i.descargos),e.R7$(6),e.JRh(i.blcedoc),e.R7$(6),e.JRh(i.blce_historico),e.R7$(6),e.JRh(i.usuario),e.R7$(6),e.JRh(i.ncf)}}let p=(()=>{var t;class c{constructor(n,o){this.receivablesService=n,this.commonService=o,this.receivables=new Array,this.views=[{codigo:"todos",nombre:"Todos"},{codigo:"pendientes",nombre:"Pendientes"},{codigo:"vencidos",nombre:"Vencidos"},{codigo:"saldados",nombre:"Saldados"},{codigo:"anulados",nombre:"Anulados"}],this.currentView="pendientes",this.currentCurrency="RD",this.filter=""}ngOnInit(){this.customerCode=this.commonService.getUserProfile().cliente.codigo,this.getReceivables(),this.getCurrencies()}getReceivables(n=1){this.receivablesService.getDetailsResumen(this.currentCurrency,n,this.filter,this.customerCode,this.currentView).subscribe({next:o=>{this.receivables=o},complete:()=>{},error:o=>{console.error(o)}})}getCurrencies(){this.commonService.getCurrencies().subscribe({next:n=>{this.currencies=n},complete:()=>{},error:n=>{console.error(n)}})}search(){this.getReceivables()}}return(t=c).\u0275fac=function(n){return new(n||t)(e.rXU(v),e.rXU(F.h))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-receivables"]],standalone:!0,features:[e.aNF],decls:29,vars:8,consts:[[3,"translucent"],["slot","start"],[3,"fullscreen"],["size","12","size-md","6","size-lg","3"],["position","floating"],["value","codigo","interface","action-sheet","cancelText","Cancelar",3,"ngModelChange","ionChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Buscar por documento o ncf",3,"ngModelChange","keyup.enter","ngModel"],["lines","full"],[4,"ngFor","ngForOf"],[3,"value"],[2,"text-align","right"]],template:function(n,o){1&n&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e.nrm(3,"ion-menu-button"),e.k0s(),e.j41(4,"ion-title"),e.EFF(5,"Lista de cargos y pagos"),e.k0s()()(),e.j41(6,"ion-content",2)(7,"ion-card")(8,"ion-grid")(9,"ion-row")(10,"ion-col",3)(11,"ion-item")(12,"ion-label",4),e.EFF(13,"Moneda"),e.k0s(),e.j41(14,"ion-select",5),e.mxI("ngModelChange",function(r){return e.DH7(o.currentCurrency,r)||(o.currentCurrency=r),r}),e.bIt("ionChange",function(){return o.getReceivables()}),e.DNE(15,R,2,2,"ion-select-option",6),e.k0s()()(),e.j41(16,"ion-col",3)(17,"ion-item")(18,"ion-label",4),e.EFF(19,"Historial"),e.k0s(),e.j41(20,"ion-select",5),e.mxI("ngModelChange",function(r){return e.DH7(o.currentView,r)||(o.currentView=r),r}),e.bIt("ionChange",function(){return o.getReceivables()}),e.DNE(21,b,2,2,"ion-select-option",6),e.k0s()()()()(),e.j41(22,"ion-grid")(23,"ion-row")(24,"ion-col")(25,"ion-searchbar",7),e.mxI("ngModelChange",function(r){return e.DH7(o.filter,r)||(o.filter=r),r}),e.bIt("keyup.enter",function(){return o.search()}),e.k0s()()()()(),e.j41(26,"ion-card")(27,"ion-list",8),e.DNE(28,f,70,17,"ion-item",9),e.k0s()()()),2&n&&(e.Y8G("translucent",!0),e.R7$(6),e.Y8G("fullscreen",!0),e.R7$(8),e.R50("ngModel",o.currentCurrency),e.R7$(),e.Y8G("ngForOf",o.currencies),e.R7$(5),e.R50("ngModel",o.currentView),e.R7$(),e.Y8G("ngForOf",o.views),e.R7$(4),e.R50("ngModel",o.filter),e.R7$(3),e.Y8G("ngForOf",o.receivables))},dependencies:[s.W9,s.eU,s.BC,s.ai,u.MD,u.Sq,u.vh,g.YN,g.BC,g.vS,s.MC,s.QW,s.b_,s.he,s.uz,s.nf,s.lO,s.ln,s.hU,s.Nm,s.Ip,s.S1]}),c})()}}]);